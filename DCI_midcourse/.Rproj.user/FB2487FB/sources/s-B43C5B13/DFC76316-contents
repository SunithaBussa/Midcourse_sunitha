#
# This is the user-interface definition of a Shiny web application. You can
# run the application by clicking 'Run App' above.
#
# Find out more about building applications with Shiny here:
#
#    http://shiny.rstudio.com/
#

library(shiny)
library(shinythemes)
 
dbHeader <- dashboardHeader()
dbHeader$children[[3]]$children <- tags$h2(tags$img(src='kidney-bean.png',height='40',width='50'),"Welcome to Dialysis Clinic Incorporation",align = "middle")
dbHeader$children[[2]]$children <-  tags$a(href='http://www.dciinc.org',
                                           tags$img(src='DCI_logo.png',height='40',width='190'))

shinyUI(
  
  dashboardPage(
    #dashboardHeader(title = "Dialysi Clinic Incorporation"),
   
    dbHeader,
    dashboardSidebar(
      sidebarMenu(id = "sidebarmenu",
        menuItem("Introduction",tabName = "introduction", icon = icon("user-md",class= NULL, lib="font-awesome")),
          menuSubItem("Payments Summary", tabName = "summary",icon = icon("money-bill-alt")),
          conditionalPanel("input.sidebarmenu=='summary'",
                           selectInput("summary_year","pick year",choices = c(2017,2018)),
                           sliderInput("summary_month_slider","pick Month",1,12,1)),
          menuSubItem("Detail", tabName = "detail"),
        menuItem("Modalities",tabName = "modality"),
        menuItem("Features",tabName = "feature_tab"),
        conditionalPanel("input.sidebarmenu=='feature_tab'",
                         selectInput("sel_features","Select Feature",choices = features_shiny_df$`features_shiny[37:47]`)
                          ) ,
        menuItem("Raw Data",tabName = "data")
      )
    ),
    dashboardBody(
      
      tabItems(
        tabItem(tabName = "introduction",
                fluidRow(
                        box(h2("first tab"))
                       )
                ),
        tabItem(tabName = "summary",
                
                tags$head(tags$style(HTML(".small-box {height: 90px}"))),
                     fluidRow(
                              column(6,h2("Payment Summary Analysis")),
                              column(6,offset = 0.5,valueBoxOutput("vbox1", width = NULL))
                             ),
              
                    fluidRow(
                             box(width = NULL, solidHeader = TRUE,leafletOutput("mymap"))
                             ),
                
                    fluidRow(
                             column (6,height='20px',box(width=100, solidHeader = TRUE, plotlyOutput("distPlot"))),
                             column(6,height='20px',box(width=500, solidHeader = TRUE, plotlyOutput("payment_type_distPlot")))
                            )
                ),
        tabItem(tabName = "detail",
                h1("Detail Analysis")),
        tabItem(tabName = "modality",
                h1("Modality Analysis")),
        tabItem(tabName = "feature_tab",
                tabBox(
                  tabPanel(title = "Plot",plotlyOutput("features")),
                  tabPanel(title = "Data")
                  
                )),
        tabItem(tabName = "data",
                h1("Raw Data"),
                fluidRow(
                  box(width = 12, status='primary',
                      'Click on the column to sort.',
                      DT::dataTableOutput("raw_data_table"))
                ))
      )
    )
    
  ) 
  
)
